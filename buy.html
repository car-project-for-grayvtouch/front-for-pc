<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1, minimum-scale=1">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>我要买车</title>
	<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
	<script type="text/javascript" src="js/flexible.js"></script>
	<script type="text/javascript" src="js/jquery-3.3.1.js"></script>	
	<script type="text/javascript" src="js/vue.js"></script>
	<script type="text/javascript" src="js/global.js"></script>
	<script type="text/javascript" src="js/vue-i18n.js"></script>
	<script type="text/javascript" src="js/swiper.min.js"></script>
	<script type="text/javascript" src="js/common.js"></script>
    <script type="text/javascript" src="dist/iview.min.js"></script>
	<script type="text/javascript" src="js/language.js"></script>
	<script type="text/javascript" src="js/data.js"></script>
	<script type="text/javascript" src="http://at.alicdn.com/t/font_1127175_gtx5hh8j6d.js"></script>
	<link rel="stylesheet" href="css/swiper.min.css">
    <link rel="stylesheet" href="css/header.css">
	<link rel="stylesheet" href="css/common.css">
	<link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="dist/styles/iview.css">
	<link rel="stylesheet" href="css/buy.css">
</head>
<body>
	<div id="buy" v-cloak>
		<div class="header">
			<div class="logos">
				<img class="logor" src="images/logor.png">
			</div>
			<div class="person">
				<span v-if="switchlogin" v-on:click="loginshow = !loginshow">登录</span>
				<a v-else href="personalCenter.html">
					<svg class="icon" aria-hidden="true">
						<use xlink:href="#icon-yidenglu"></use>
					</svg>
				</a>
			</div>
			<transition name="fade" mode="out-in">
					<button class="back-to-top" :key="topshow" v-on:click='top()' v-html="$t('header.top')"></button>
			</transition>
			<transition name="fadel" mode="out-in">
			<button class="language-switch" :key="enshow" v-on:click='change()'>{{enshow}}</button>
			</transition>
			<transition name="fadeo" mode="out-in">
					<button class="online-consultation" :key="botshow" v-on:click='consult()' v-html="$t('header.online')"></button>
			</transition>
					<div class="nav-menu">
						<ul>
							<li>
								<a href="index.html">
									<span>{{ $t("header.home") }}</span>
								</a>
							</li>
							<li>
								<a href="buy.html">
									<span>{{ $t("header.buy") }}</span>
								</a>
							</li>
							<li>
								<a href="sale.html">
									<span>{{ $t("header.sale") }}</span>
								</a>
							</li>
							<li>
								<a href="bargain.html">
									<span>{{ $t("header.bargain") }}</span>
								</a>
							</li>
							<li>
								<a href="installment.html">
									<span>{{ $t("header.hire") }}</span>
								</a>
							</li>
							<li>
								<a href="about.html">
									<span>{{ $t("header.about") }}</span>
								</a>
							</li>
							<li>
								
							</li>
							<li>
								<a href="">
								</a>
							</li>
						</ul>
					</div>
					<div id="tips">
						<svg class="icon" aria-hidden="true">
							<use xlink:href="#icon-ling"></use>
						</svg>
						<div class="text text-container">
							<ul class="swiper-wrapper">
								<li class="swiper-slide" v-for="item in tipsArr">{{item}}</li>
							</ul>
						</div>
					</div>
			<transition name="searchfade">
				<div class="login-page" v-if="loginshow">
					<div class="loginMask" v-on:click="loginshow = !loginshow">
					</div>
					<div class="login">
						<div class="close" v-on:click="loginshow = !loginshow">
							<svg class="icon" aria-hidden="true">
								<use xlink:href="#icon-close"></use>
							</svg>
						</div>
						<div class="login-item">
							<input type="number" class="defa" v-model="logindata.phonenum" placeholder="手机号"/>
						</div>
						<div class="login-item">
							<input type="number" class="defa getcodeinp" v-model="logindata.checkcode"  placeholder="验证码"/>
							<input type="button" class="getcode" value="获取验证码" />
						</div>
						<input type="button" class="btn-login" value="登录" v-on:click="login()">
						<div class="login-tips">
							<p class="legal">登录即为同意<a href="serivceAgreement.html">《用户使用协议》</a>及<a href="private.html">《隐私权条款》</a></p>
						</div>
					</div>
				</div>
			</transition>
		</div>
		<div class="margin">
			<div class="choose-tag">
				<div class="choose-top">
					<span class="title">条件筛选</span>
					<ul class="tags">
						<li v-for="item in defaultmodels">
							<span>{{item}}</span>
							<img src="images/tag_close.png" >
						</li>
						<!-- <li>
							<span>丰田</span>
							<img src="images/tag_close.png" >
						</li> -->
					</ul>
					<i-button type="warning" @click='clearall()'>清除所有 <Icon type="md-trash" /></i-button>
					<i-button type="primary">确定筛选</i-button>
				</div>
				<div class="buy-sel">
					<div class="buy-sel-item">
						<div class="title">
							品牌
						</div>
						<Cascader :data="brandList" v-model="value1" style="width:300px"></Cascader>
					</div>
					<div class="buy-sel-item">
						<div class="title">车系</div>
						<i-select v-model="models.model1" style="width:300px">
							<i-option v-for="item in carseries" :value="item.value" :key="item.value">{{ item.label }}</i-option>
						</i-select>
					</div>
					<div class="buy-sel-item">
						<div class="title">价格</div>
						<i-select v-model="models.model2" style="width:300px">
							<i-option v-for="item in price" :value="item.label" :key="item.value">{{ item.label }}</i-option>
						</i-select>
					</div>
					<div class="buy-sel-item">
						<div class="title">车型</div>
						<i-select v-model="models.model3" style="width:300px">
							<i-option v-for="item in cartype" :value="item.label" :key="item.value">{{ item.label }}</i-option>
						</i-select>
					</div>
					<div class="buy-sel-item">
						<div class="title">里程</div>
						<i-select v-model="models.model4" style="width:300px">
							<i-option v-for="item in mileage" :value="item.label" :key="item.value">{{ item.label }}</i-option>
						</i-select>
					</div>
					<div class="buy-sel-item">
						<div class="title">车龄</div>
						<i-select v-model="models.model5" style="width:300px">
							<i-option v-for="item in age" :value="item.label" :key="item.value">{{ item.label }}</i-option>
						</i-select>
					</div>
					<div class="buy-sel-item">
						<div class="title">变速箱</div>
						<i-select v-model="models.model6" style="width:300px">
							<i-option v-for="item in gearbox" :value="item.label" :key="item.value">{{ item.label }}</i-option>
						</i-select>
					</div>
					<div class="buy-sel-item">
						<div class="title">颜色</div>
						<i-select v-model="models.model7" style="width:300px">
							<i-option v-for="item in color" :value="item.label" :key="item.value">{{ item.label }}</i-option>
						</i-select>
					</div>
				</div>
			</div>
			<div class="recommoned">
				<div class="order">
					<ul>
						<li>默认排序</li>
						<li>按价格排序</li>
						<li>按车龄排序</li>
						<li>按里程排序</li>
					</ul>
				</div>
				<div class="car-detail">
					<div class="car-item" v-for="item in searchArr">
						<a href="#">
							<img class="bg" src="images/car-1.jpg">
							<img class="favorite" src="images/favorite.png">
							<div class="car-explain">
								<div class="explain-t">
									<div class="car-name">
										{{ item.model?item.model.year:''}}&nbsp;
										{{item.series?item.series.name:''}}&nbsp;
										{{item.model?item.model.displacement:''}}L
									</div>
									<div class="car-price">
										{{item.price}}
									</div>
								</div>
								<div class="distance">
									{{item.mileage}} 英里·{{item.model?item.model.door_count:''}}门·
									{{item.model?item.model.drive_type:''}}·
									{{item.model?item.model.cylinder_count:''}}缸·
									{{item.model?item.model.displacement:''}}L·
									{{item.model?item.model.intake_type:''}}·
									{{item.model?item.model.gearbox:''}}
								</div>
							</div>
						</a>
					</div>
				</div>
				<div class="redirectTopage">
					<Page :total="100" show-elevator />
				</div>
			</div>
			
			
		</div>
		<div class="misc">
			<ul>
				<a v-for="item in $t('misc')" :href="item.src"><li>{{item.content}}</li></a>
			</ul>
		</div>
		<div class="footer">
			<div class="contact">
				<div class="top">
					<div class="logo"><img src="images/logo.jpg" ></div>
					<div class="con-top-r">
						<div class="wx">
							<a>
								<img src="images/humacar.png" >
								<span>CHAMPION</span>
							</a>
						</div>
						<div class="phone">
							<a>
								<img src="images/phone.png" >
								<span>+1(888)-888-6518</span>
							</a>
						</div>
					</div>
				</div>
				</div>
			<div class="adress">
				<ul>
					<a href="#">
						<li>
							<span>洛杉矶旗舰店地址</span>
							<p>19575 E Walnut Dr S Ste C13&C14 City of Industry CA 91748</p>
						</li>
					</a>
					<a href="#">
						<li>
							<span>洛杉矶旗舰店地址</span>
							<p>19575 E Walnut Dr S Ste C13&C14 City of Industry CA 91748</p>
						</li>
					</a>
					<a href="#">
						<li>
							<span>洛杉矶旗舰店地址</span>
							<p>19575 E Walnut Dr S Ste C13&C14 City of Industry CA 91748</p>
						</li>
					</a>
				</ul>
			</div>
		</div>
		<div class="copy">
			<span>
				Copyright@2016 CHAMPION Inc. Privacy Terms
			</span>
		</div>
	</div>
</body>
<script type="text/javascript">
	var locale = localStorage.locale;
	new Vue({
		i18n,
		data: {
			show: false,
			topshow: false,
			botshow: false,
			enshow: "english",
			loginshow: false,
			switchlogin: true,
			logindata: {
				phonenum:'',
				checkcode:''
			},
			value1: [],
			defaultmodels: [],
			models: {
				model0: '',
				model1: '',
				model2: '',
				model3: '',
				model4: '',
				model5: '',
				model6: '',
				model7: '',
			},
			tipsArr:['免费代办过户','多种金融贷款服务','一年内全美道路救援服务','多种支付渠道（POS机、微信、支付宝等）多种支付渠道（POS机、微信、支付宝等）','100%无佣金'],
                brandList: [{
                    value: 'hot',
                    label: '热门品牌',
                    children: [
                        {
                            value: '不限',
                            label: '不限'
                        },
                        {
                            value: '宝马',
                            label: '宝马'
                        },
                        {
                            value: '奔驰',
                            label: '奔驰'
                        },
                        {
                            value: 'fengtian',
                            label: '丰田'
                        },
                        {
                            value: 'aodi',
                            label: '奥迪'
                        },
                        {
                            value: 'richan',
                            label: '日产'
                        },
                        {
                            value: 'dazhong',
                            label: '大众'
                        }
                    ]
                }, 
				{
                    value: 'A',
                    label: 'A',
                    children: [
                        {
                            value: 'aerfaluomiou',
                            label: '阿尔法罗密欧',
                        },
                        {
                            value: 'AMC',
                            label: 'AMC',
                        },
                        {
                            value: 'aodi',
                            label: '奥迪',
                        },
                        {
                            value: 'aozimobier',
                            label: '奥兹莫比尔',
                        },
                        {
                            value: 'asidunmading',
                            label: '阿斯顿马丁',
                        }
                    ],
                }, 
				{
                    value: 'B',
                    label: 'B',
                    children: [
                        {
                            value: 'baoma',
                            label: '宝马',
                        },
                        {
                            value: 'baoshijie',
                            label: '保时捷',
                        },
                        {
                            value: 'benchi',
                            label: '奔驰',
                        },
                        {
                            value: 'bentian',
                            label: '本田',
                        },
                        {
                            value: 'biaozhi',
                            label: '标致',
                        },
                        {
                            value: 'bieke',
                            label: '别克',
                        },
                        {
                            value: 'binli',
                            label: '宾利',
                        }
                    ],
                }, 
				{
                    value: 'D',
                    label: 'D',
                    children: [
                        {
                            value: 'daoqi',
                            label: '道奇',
                        },
                        {
                            value: 'datesang',
                            label: '达特桑',
                        },
                        {
                            value: 'dayu',
                            label: '大宇',
                        },
                        {
                            value: 'dazhong',
                            label: '大众',
                        },
                        {
                            value: 'delaoruien',
                            label: '德劳瑞恩',
                        }
                    ],
                },
				{
                    value: 'F',
                    label: 'F',
                    children: [
                        {
                            value: 'falali',
                            label: '法拉利',
                        },
                        {
                            value: 'feiyate',
                            label: '菲亚特',
                        },
                        {
                            value: 'FIAT',
                            label: 'FIAT',
                        },
                        {
                            value: 'fengtian',
                            label: '丰田',
                        },
                        {
                            value: 'fulaina',
                            label: '福莱纳',
                        },
                        {
                            value: 'fute',
                            label: '福特',
                        }
                    ],
                }],
                
				carseries: [
					{
                        value: '不限',
                        label: '不限'
                    },
                    {
                        value: '宝马 3系',
                        label: '宝马 3系'
                    },
                    {
                        value: '奔驰 C系',
                        label: '奔驰 C系'
                    },
                    {
                        value: '丰田 凯美瑞',
                        label: '丰田 凯美瑞'
                    },
                    {
                        value: '宝马 5系',
                        label: '宝马 5系'
                    },
                    {
                        value: '奔驰 E系',
                        label: '奔驰 E系'
                    },
                    {
                        value: '福特 野马',
                        label: '福特 野马'
                    },
                    {
                        value: '保时捷 卡宴',
                        label: '保时捷 卡宴'
                    },
                    {
                        value: '本田 雅阁',
                        label: '本田 雅阁'
                    },
                    {
                        value: '丰田 卡罗拉',
                        label: '丰田 卡罗拉'
                    },
                    {
                        value: '本田 思域',
                        label: '本田 思域'
                    }],
				cartype: [{
                        value: '不限',
                        label: '不限'
                    },
                    {
                        value: '轿车',
                        label: '轿车'
                    },
                    {
                        value: '跑车',
                        label: '跑车'
                    },
                    {
                        value: '皮卡',
                        label: '皮卡'
                    },
                    {
                        value: 'SUV',
                        label: 'SUV'
                    },
                    {
                        value: 'MPV',
                        label: 'MPV'
                    }],
				price: [{
                        value: '',
                        label: '不限'
                    },
                    {
                        value: '1',
                        label: '$10,000以下'
                    },
                    {
                        value: '2',
                        label: '$10,000-$15,000'
                    },
                    {
                        value: '3',
                        label: '$15,000-$20,000'
                    },
                    {
                        value: '4',
                        label: '$20,000-$30,000'
                    },
                    {
                        value: '5',
                        label: '$30,000-$40,000'
                    },
                    {
                        value: '6',
                        label: '$40,000以上'
                    }],
				mileage: [{
                        value: '',
                        label: '不限'
                    },
                    {
                        value: '1',
                        label: '1万英里以内'
                    },
                    {
                        value: '2',
                        label: '3万英里以内'
                    },
                    {
                        value: '3',
                        label: '5万英里以内'
                    },
                    {
                        value: '4',
                        label: '8万英里以内'
                    },
                    {
                        value: '5',
                        label: '10万英里以内'
                    },
                    {
                        value: '6',
                        label: '15万英里以内'
                    }],
				age: [{
				        value: '',
				        label: '不限'
				    },
				    {
				        value: '1',
				        label: '1年以内'
				    },
				    {
				        value: '2',
				        label: '3年以内'
				    },
				    {
				        value: '3',
				        label: '5年以内'
				    },
				    {
				        value: '4',
				        label: '6年以内'
				    },
				    {
				        value: '5',
				        label: '8年以内'
				    },
				    {
				        value: '6',
				        label: '8年以上'
				    }],
				gearbox: [{
				        value: '',
				        label: '不限'
				    },{
				        value: '手动',
				        label: '手动'
				    },
				    {
				        value: '自动',
				        label: '自动'
				    },
				    {
				        value: '手自一体',
				        label: '手自一体'
				    },
				    {
				        value: '无级变速',
				        label: '无级变速'
				    },
				    {
				        value: '双离合',
				        label: '双离合'
				    },
				    {
				        value: '机械自动变速箱',
				        label: '机械自动变速箱'
				    },
				    {
				        value: '直驱',
				        label: '直驱'
				    }],
				color: [{
				        value: '',
				        label: '不限'
				    },{
				        value: '白色',
				        label: '白色'
				    },
				    {
				        value: '黑色',
				        label: '黑色'
				    },
				    {
				        value: '银灰',
				        label: '银灰'
				    },
				    {
				        value: '灰色',
				        label: '灰色'
				    },
				    {
				        value: '黄色',
				        label: '黄色'
				    },
				    {
				        value: '香槟',
				        label: '香槟'
				    },
				    {
				        value: '红色',
				        label: '红色'
				    },
				    {
				        value: '粉色',
				        label: '粉色'
				    },
				    {
				        value: '紫色',
				        label: '紫色'
				    },
				    {
				        value: '蓝色',
				        label: '蓝色'
				    },
				    {
				        value: '绿色',
				        label: '绿色'
				    },
				    {
				        value: '咖啡',
				        label: '咖啡'
				    },
				    {
				        value: '其他',
				        label: '其他'
				    }],
					searchArr: [],
		},
		mounted() {
			var that = this;
			if(locale){
				i18n.locale = locale;
				locale == 'zh-cn'?this.enshow = 'english':this.enshow = '中文';
			}else{
				(locale = i18n.locale);
			}
			var login;
			 if(localStorage.login){
				login = JSON.parse(localStorage.login);
			 }
			if(login){
				this.switchlogin = false;
			}else{
				this.switchlogin = true;
			}
			$('.order').find('li').click(function(){
				$(this).css({'background-color':'#DA2515','color':'white'}).siblings().css({'background-color':'white','color':'black'});
			});
			// 筛选条件
			data.common('Car/list',function(d){
				console.log(d)
				that.searchArr = d.data;
				var cd = [{
                    value: 'hot',
                    label: '热门品牌',
                    children: []
                }];
				for(var k in d){
					
				}
// 				that.$i18n._vm.messages['zh-cn'].media = d;
// 				that.$i18n._vm.messages['en'].media = d;
			})
		},
		watch: {
			value1: {
				handler:function(newv,oldv){
					this.models.model0 = newv[1];
				}
			},
			models: {
				handler:function(newv,oldv){
					var curmodel = [];
					for(var key in newv){
						if(newv[key] !== ''){
							curmodel.push(newv[key]);
						}
					}
					this.defaultmodels = curmodel;
				},
			deep: true,
			immidiate: true
			}
		},
		computed: {

		},
		methods: {
			login: function() {
				if(this.logindata.phonenum == ''){
					alert("请填写手机号!");
					return;
				}
				else if(this.logindata.checkcode == ''){
					alert("请填写验证码!");
					return;
				}
				this.switchlogin = !this.switchlogin;
				this.loginshow = !this.loginshow;
				alert('登录成功!');
				localStorage.login = true;
			},
			change: function() {
			    this.enshow = this.enshow == 'english' ? "中文" : "english";
			    var that = this;
			    setTimeout(function(){
					if(i18n.locale == 'en'){
						i18n.locale = 'zh-cn';
					}else if(i18n.locale == 'zh-cn'){
						i18n.locale = 'en';
					}
					localStorage.locale = i18n.locale;
			    },1100)
			},
			top: function(){
				this.topshow = !this.topshow;
				$('html,body').animate({scrollTop: '0'}, 700);
			},
			consult: function(){
				this.botshow = !this.botshow;
				setTimeout(function(){
					alert("功能完善中！")
				},700)
			},
			clearall: function() {
				var that = this;
				// new Promise(function(resolve,reject){
					for (let key in that.models) {
						that.models[key] = '';
					}
					that.value1 = [];
					// resolve();
				// }).then(function(){
					this.$nextTick(function(){
						
						that.defaultmodels = [];
					})
				// })
			}
		}
	}).$mount('#buy')
	// 现在应用程序已经准备好了！
</script>
</html>